@import 'tailwindcss';

@import './styles/theme.css';
@import "tw-animate-css";
/*
  ---break---
*/
@custom-variant dark (&:is(.dark *));

@config '../tailwind.config.js';

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

/*
  ---break---
*/
:root {
  --radius: 0.625rem;

  /* Rail network palette: bright concourse base, electric blue primary, safety orange secondary, signal green accents */
  --background: oklch(0.96 0.02 250);
  --foreground: oklch(0.18 0.03 255);

  --card: oklch(0.99 0.01 250);
  --card-foreground: oklch(0.20 0.03 255);

  --popover: oklch(0.98 0.015 250);
  --popover-foreground: oklch(0.20 0.03 255);

  --primary: oklch(0.62 0.17 250); /* electric blue */
  --primary-foreground: oklch(0.16 0.02 255);

  --secondary: oklch(0.78 0.16 55); /* safety orange */
  --secondary-foreground: oklch(0.20 0.02 55);

  --muted: oklch(0.90 0.01 250);
  --muted-foreground: oklch(0.36 0.02 255);

  --accent: oklch(0.72 0.14 145); /* signal green */
  --accent-foreground: oklch(0.18 0.02 145);

  --destructive: oklch(0.64 0.16 25);
  --border: oklch(0.88 0.02 250);
  --input: oklch(0.90 0.02 250);
  --ring: oklch(0.72 0.16 245);

  --chart-1: var(--primary);
  --chart-2: var(--accent);
  --chart-3: oklch(0.82 0.12 75); /* amber yellow for diverging lines */
  --chart-4: oklch(0.68 0.16 20); /* red-orange */
  --chart-5: oklch(0.52 0.03 260); /* cool gray */

  --sidebar: oklch(0.94 0.015 250);
  --sidebar-foreground: oklch(0.26 0.03 255);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: var(--secondary);
  --sidebar-accent-foreground: var(--secondary-foreground);
  --sidebar-border: var(--border);
  --sidebar-ring: var(--ring);
}

/*
  ---break---
*/
.dark {
  --background: oklch(0.14 0.02 250);
  --foreground: oklch(0.94 0.01 255);

  --card: oklch(0.18 0.015 250);
  --card-foreground: oklch(0.92 0.015 255);

  --popover: oklch(0.18 0.015 250);
  --popover-foreground: oklch(0.92 0.015 255);

  --primary: oklch(0.70 0.20 250);
  --primary-foreground: oklch(0.14 0.02 255);

  --secondary: oklch(0.82 0.20 55);
  --secondary-foreground: oklch(0.18 0.02 55);

  --muted: oklch(0.22 0.01 250);
  --muted-foreground: oklch(0.82 0.01 255);

  --accent: oklch(0.74 0.18 145);
  --accent-foreground: oklch(0.14 0.02 145);

  --destructive: oklch(0.70 0.18 25);
  --border: oklch(0.24 0.01 250);
  --input: oklch(0.24 0.01 250);
  --ring: oklch(0.82 0.20 245);

  --chart-1: var(--primary);
  --chart-2: var(--accent);
  --chart-3: oklch(0.76 0.16 75);
  --chart-4: oklch(0.72 0.18 20);
  --chart-5: oklch(0.40 0.02 250);

  --sidebar: oklch(0.16 0.012 250);
  --sidebar-foreground: oklch(0.92 0.01 255);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: var(--secondary);
  --sidebar-accent-foreground: var(--secondary-foreground);
  --sidebar-border: var(--border);
  --sidebar-ring: var(--ring);
}

/*
  ---break---
*/
@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  /*
  ---break---
*/
  @keyframes accordion-down {
    from {
      height: 0;
    }

    to {
      height: var(--radix-accordion-content-height);
    }
  }

  /*
  ---break---
*/
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }

    to {
      height: 0;
    }
  }
}

/*
  ---break---
*/
@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* Rail network styling helpers */
.rail-grid {
  position: fixed;
  inset: 0;
  background:
    linear-gradient(135deg, oklch(0.90 0.01 250 / 0.45) 25%, transparent 25%) 0 0 / 44px 44px,
    linear-gradient(135deg, transparent 75%, oklch(0.88 0.01 250 / 0.35) 75%) 0 0 / 44px 44px,
    radial-gradient(circle at 1px 1px, oklch(0.72 0.02 250 / 0.4) 1px, transparent 0) 0 0 / 22px 22px,
    radial-gradient(circle at 20% 10%, oklch(0.95 0.02 120 / 0.25) 0, transparent 30%),
    radial-gradient(circle at 80% 20%, oklch(0.90 0.04 250 / 0.25) 0, transparent 35%),
    linear-gradient(180deg, oklch(0.97 0.02 250) 0%, oklch(0.95 0.015 250) 50%, oklch(0.93 0.01 250) 100%);
  opacity: 0.9;
  pointer-events: none;
  z-index: 0;
}

.parchment-bg {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

.rail-panel {
  /* Rail card wrapper */
  background: linear-gradient(170deg, oklch(0.98 0.015 245), oklch(0.92 0.025 225));
  border: 1px solid oklch(0.82 0.02 240 / 0.6);
  box-shadow:
    0 14px 40px oklch(0.36 0 0 / 0.08),
    0 1px 0 oklch(0.70 0.02 250 / 0.16);
  border-radius: 14px;
  backdrop-filter: blur(10px);
}

.glass-panel {
  background: linear-gradient(175deg, oklch(0.99 0.02 255 / 0.9), oklch(0.94 0.03 230 / 0.86));
  border: 1px solid oklch(0.80 0.02 240 / 0.55);
  box-shadow:
    inset 0 1px 0 oklch(0.98 0.01 250 / 0.8),
    0 12px 32px oklch(0.28 0 0 / 0.08),
    0 1px 0 oklch(0.72 0.03 240 / 0.10);
  backdrop-filter: blur(10px);
}

@media (max-width: 768px) {
  .glass-panel {
    backdrop-filter: blur(6px);
  }
}

.glow-border {
  box-shadow: 0 0 0 2px oklch(0.72 0.18 250 / 0.55), 0 14px 36px oklch(0.30 0 0 / 0.10);
}

.pulse-glow {
  box-shadow: 0 0 0 0 oklch(0.72 0.18 250 / 0.35);
  animation: pulse-ring 2s infinite;
}

@keyframes pulse-ring {
  0% { box-shadow: 0 0 0 0 oklch(0.72 0.18 250 / 0.45); }
  70% { box-shadow: 0 0 0 12px oklch(0.72 0.18 250 / 0); }
  100% { box-shadow: 0 0 0 0 oklch(0.72 0.18 250 / 0); }
}